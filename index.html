<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Accrual plots and predictions for clinical trials • accrualPlot</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Accrual plots and predictions for clinical trials">
<meta property="og:description" content="Tracking accrual in clinical trials is important for trial success. 
    If accrual is too slow, the trial will take too long and be too expensive. If
    accrual is much faster than expected, time sensitive tasks such as the writing 
    of statistical analysis plans might need to be rushed. `tRialaccrual` provides 
    functions to aid the tracking of accrual and predict when a trial will reach 
    it's intended sample size.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">accrualPlot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="accrualplot" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#accrualplot" class="anchor"></a><code>accrualPlot</code>
</h1></div>
<!-- [![](https://www.r-pkg.org/badges/version/accrualPlot?color=green)](https://cran.r-project.org/package=accrualPlot)  -->

<p>Accrual plots are an important tool when monitoring clinical trials. Some trials are terminated early due to low accrual, which is a waste of resources (including time). Assessing accrual rates can also be useful for planning analyses and estimating how long a trial needs to continue recruiting participants. <code>accrualPlot</code> provides tools for such plots</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<!-- `accrualPlot` can be installed from CRAN in the usual manner: -->
<p>You can install the development version of <code>accrualPlot</code> from github with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>remotes<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"CTU-Bern/accrualPlot"</span>)</span></code></pre></div>
<p>Note that <code>remotes</code> treats any warnings (e.g. that a certain package was built under a different version of R) as errors. If you see such an error, run the following line and try again:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">Sys.setenv</span>(<span class="dt">R_REMOTES_NO_ERRORS_FROM_WARNINGS =</span> <span class="st">"true"</span>)</span></code></pre></div>
</div>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The first step to using <code>accrualPlot</code> is to create an accrual dataframe. This is simply a dataframe with a counts of participants included per day.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># load package</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw">library</span>(accrualPlot)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt; Loading required package: lubridate</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt; </span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt; Attaching package: 'lubridate'</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt; </span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt;     date, intersect, setdiff, union</span></span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co"># generate some data</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="kw">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb3-12"><a href="#cb3-12"></a>x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">"2020-12-07"</span>) <span class="op">+</span><span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="op">-</span><span class="dv">20</span><span class="op">:</span><span class="dv">20</span>), <span class="dv">50</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb3-13"><a href="#cb3-13"></a></span>
<span id="cb3-14"><a href="#cb3-14"></a>df &lt;-<span class="st"> </span><span class="kw">accrual_create_df</span>(x)</span></code></pre></div>
<p>Cumulative recruitment</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">plot</span>(df)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png"></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># accrual_plot_cum(df)</span></span></code></pre></div>
<p>Recruitment per day</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">plot</span>(df, <span class="dt">which =</span> <span class="st">"abs"</span>, <span class="dt">unit =</span> <span class="st">"day"</span>)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png"></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># accrual_plot_abs(df, unit = "day")</span></span></code></pre></div>
<p>If we know that we started recruiting on the 1st November, we can add this information.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># accrual_plot_cum(df, start_date = as.Date("2020-11-01"))</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="kw">plot</span>(df, <span class="dt">start_date =</span> <span class="kw">as.Date</span>(<span class="st">"2020-11-01"</span>))</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png"></p>
<p>Multiple sites can also be depicted…</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>site &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">50</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a>df2 &lt;-<span class="st"> </span><span class="kw">accrual_create_df</span>(x, <span class="dt">by =</span> site)</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co"># accrual_plot_cum(df2)</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="kw">plot</span>(df2)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-6-1.png"></p>
<p>It is also possible to predict the time point at which a certain number of participants has been recruited (for estimating when a study will be complete). If we want to recruit a total of 75 participants, we can put that in the <code>target</code> option.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">accrual_plot_predict</span>(df, <span class="dt">target =</span> <span class="dv">75</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co"># accrual_plot_predict(df2, target = 75) # does not seem to work</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="kw">plot</span>(df, <span class="st">"predict"</span>, <span class="dt">target =</span> <span class="dv">75</span>)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png"></p>
<p>Table of recruitment, with or without a descriptive header.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># accrual_table(df) </span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="kw">summary</span>(df) </span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#&gt;            start_date            time                    n</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt;  First participant in Months accruing Participants accrued</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">#&gt;             18Nov2020               1                   50</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">#&gt;                      rate</span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">#&gt;  Accrual rate (per month)</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">#&gt;                     38.46</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="kw">summary</span>(df2) </span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="co">#&gt;     name           start_date            time                    n</span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">#&gt;   Center First participant in Months accruing Participants accrued</span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="co">#&gt;        3            19Nov2020               1                   15</span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="co">#&gt;        2            21Nov2020               1                   19</span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="co">#&gt;        1            18Nov2020               1                   16</span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="co">#&gt;  Overall            18Nov2020               1                   50</span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="co">#&gt;                      rate</span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="co">#&gt;  Accrual rate (per month)</span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="co">#&gt;                     13.64</span></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="co">#&gt;                     15.83</span></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="co">#&gt;                     12.31</span></span>
<span id="cb11-21"><a href="#cb11-21"></a><span class="co">#&gt;                     38.46</span></span>
<span id="cb11-22"><a href="#cb11-22"></a><span class="kw">summary</span>(df2, <span class="dt">header =</span> <span class="ot">FALSE</span>) </span>
<span id="cb11-23"><a href="#cb11-23"></a><span class="co">#&gt;     name start_date time  n  rate</span></span>
<span id="cb11-24"><a href="#cb11-24"></a><span class="co">#&gt;        3  19Nov2020    1 15 13.64</span></span>
<span id="cb11-25"><a href="#cb11-25"></a><span class="co">#&gt;        2  21Nov2020    1 19 15.83</span></span>
<span id="cb11-26"><a href="#cb11-26"></a><span class="co">#&gt;        1  18Nov2020    1 16 12.31</span></span>
<span id="cb11-27"><a href="#cb11-27"></a><span class="co">#&gt;  Overall  18Nov2020    1 50 38.46</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Lukas Bütikofer <br><small class="roles"> Maintainer, author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/CTU-Bern/accrualPlot"><img src="https://img.shields.io/badge/dev%20version-0.3.0-blue.svg"></a></li>
<li><a href="https://github.com/CTU-Bern/presize/actions"><img src="https://github.com/CTU-Bern/presize/workflows/R-CMD-check/badge.svg" alt="Actions Status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Lukas Bütikofer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>

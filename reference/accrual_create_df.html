<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>accrual_create_df — accrual_create_df • accrualPlot</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="accrual_create_df — accrual_create_df"><meta property="og:description" content="Creates a data frame or a list of data frames
that contains the absolute and cumululative number of participants
recruited at each date from a vector with enrollment dates. Used as input for accrual plot functions."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">accrualPlot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/accrualPlot.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/CTU-Bern/accrualPlot/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>accrual_create_df</h1>
    <small class="dont-index">Source: <a href="https://github.com/CTU-Bern/accrualPlot/blob/HEAD/R/accrual_create_df.R" class="external-link"><code>R/accrual_create_df.R</code></a></small>
    <div class="hidden name"><code>accrual_create_df.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a data frame or a list of data frames
that contains the absolute and cumululative number of participants
recruited at each date from a vector with enrollment dates. Used as input for accrual plot functions.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">accrual_create_df</span><span class="op">(</span>
  <span class="va">enrollment_dates</span>,
  by <span class="op">=</span> <span class="cn">NA</span>,
  start_date <span class="op">=</span> <span class="st">"site"</span>,
  current_date <span class="op">=</span> <span class="st">"common"</span>,
  overall <span class="op">=</span> <span class="cn">TRUE</span>,
  name_overall <span class="op">=</span> <span class="st">"Overall"</span>,
  pos_overall <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"last"</span>, <span class="st">"first"</span><span class="op">)</span>,
  force_start0 <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>enrollment_dates</dt>
<dd><p>date vector with one entry per participants.</p></dd>
<dt>by</dt>
<dd><p>factor or character vector with sites, has to have the same length as enrollment dates.
If not NA, a list with an accrual data frame for each site is generated.</p></dd>
<dt>start_date</dt>
<dd><p>date when recruitment started. Single date (used for all sites in by),
named date vector (with length and names corresponding to the levels of by),
"common" (first date overall) or "site" (first date for each site, default).</p></dd>
<dt>current_date</dt>
<dd><p>date of the data export or database freeze.
Single date, named date vector (with length and names corresponding to the levels of by),
"common" (last date overall, default) or "site" (first date for each site).</p></dd>
<dt>overall</dt>
<dd><p>logical indicates that accrual_df contains a summary with all sites (only if by is not NA).</p></dd>
<dt>name_overall</dt>
<dd><p>name of the summary with all sites (if by is not NA and overall==TRUE).</p></dd>
<dt>pos_overall</dt>
<dd><p>overall as last or first element of the list (if by is not NA and overall==TRUE).</p></dd>
<dt>force_start0</dt>
<dd><p>logical, adds an extra 0 line to the accrual data frame in cases
where a start date is given and corresponds to the earliest enrollment date.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns a data frame of class 'accrual_df'
or a list of class 'accrual_list' with an 'accrual_df' for each level of by (if by is not NA).
The 'accrual_df' contains a row per accrual day and the following three columns:</p>
<dl><dt>Date</dt>
<dd><p>date of accrual</p></dd>
<dt>Freq</dt>
<dd><p>absolute number accrued at Date</p></dd>
<dt>Cumulative</dt>
<dd><p>cumulative number accrued up to Date</p></dd>
</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="accrual_plot_cum.html">accrual_plot_cum()</a></code>, <code><a href="accrual_plot_abs.html">accrual_plot_abs()</a></code> and <code><a href="accrual_plot_predict.html">accrual_plot_predict()</a></code>
to generate cumulative, absolute and prediction plots, and <code><a href="accrual_table.html">accrual_table()</a></code> to generate an accrual table.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">accrualdemo</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">accrual_create_df</span><span class="op">(</span><span class="va">accrualdemo</span><span class="op">$</span><span class="va">date</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 participants recruited between 2020-07-09 and 2020-10-09 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Date Freq Cumulative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2020-07-09    0          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2020-07-09    1          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2020-07-14    3          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2020-07-16    1          5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 2020-07-19    1          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2020-07-20    1          7</span>
<span class="r-in"><span class="co"># different start and current date</span></span>
<span class="r-in"><span class="fu">accrual_create_df</span><span class="op">(</span><span class="va">accrualdemo</span><span class="op">$</span><span class="va">date</span>, start_date<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-07-08"</span><span class="op">)</span>,</span>
<span class="r-in">current_date<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-10-15"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 participants recruited between 2020-07-08 and 2020-10-15 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Date Freq Cumulative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2020-07-08    0          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2020-07-09    1          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2020-07-14    3          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2020-07-16    1          5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 2020-07-19    1          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2020-07-20    1          7</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#by site</span></span>
<span class="r-in"><span class="fu">accrual_create_df</span><span class="op">(</span><span class="va">accrualdemo</span><span class="op">$</span><span class="va">date</span>,by<span class="op">=</span><span class="va">accrualdemo</span><span class="op">$</span><span class="va">site</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Site 1:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 141 participants recruited between 2020-07-09 and 2020-10-09 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Date Freq Cumulative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2020-07-09    0          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2020-07-09    1          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2020-07-14    3          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2020-07-16    1          5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 2020-07-19    1          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2020-07-21    1          7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Site 2:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88 participants recruited between 2020-07-20 and 2020-10-09 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Date Freq Cumulative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2020-07-20    0          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2020-07-20    1          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2020-07-21    1          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2020-07-22    1          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 2020-07-23    1          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2020-07-26    1          5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Site 3:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 participants recruited between 2020-09-04 and 2020-10-09 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Date Freq Cumulative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2020-09-04    0          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2020-09-04    1          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2020-09-05    1          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2020-09-07    2          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 2020-09-12    1          5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2020-09-13    1          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 participants recruited between 2020-07-09 and 2020-10-09 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Date Freq Cumulative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2020-07-09    0          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2020-07-09    1          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2020-07-14    3          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2020-07-16    1          5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 2020-07-19    1          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2020-07-20    1          7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="co"># }</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Lukas Bütikofer, Alan G. Haynes.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

